import os
import unittest
from HtmlTestRunner import HTMLTestRunner
#测试结果信息收集：
if __name__ == '__main__':
    case_path = os.path.join(os.getcwd(), 'test_case')
    discover = unittest.defaultTestLoader.discover(case_path, pattern="test*.py", top_level_dir=None)
    reportpath = os.path.join(os.getcwd(), 'report','htmltestrunner.html')
    all_result = None
    with open(reportpath,'wb') as f:
        runner = HTMLTestRunner(stream=f,
                                verbosity=2,
                                title='my report',
                                description='generated by htmltestrunner')
        all_result=runner.run(discover)
    print("取htmltestrunner产生的测试结果")
    for item in all_result.result:
        print(item)